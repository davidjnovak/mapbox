<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="styles.css">
    <title>US Pellet Mills</title>
    <meta charset="utf-8" />
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.css' rel='stylesheet' />
</head>
<body>
    <div id="map"></div>
    
    <div class="sidebar">
        <div class="chart-container">
            <canvas id="scatter" width="300" height="150"></canvas>
            <button class="info-btn">i</button>
            <div class="info-textbox">
                The scatter chart illustrates the correlation between the operational start of pellet mills and changes in tree loss in the surrounding area. A 'positive change in loss' reflects an increase in tree loss post-operation. <br> <br> 'Pellet production' estimates the mill's annual impact on forest acres based on SELC data. The correlation coefficient (R) is 0.775, indicating a strong positive relationship, while the coefficient of determination (RÂ²) is 0.6, signifying that 60% of the changes in tree loss can be statistically explained by pellet production activities.
            </div>
        </div>
        <button id="toggleCircles">Switch Operational Radius</button>

        <div id="info">
            <div id="plantName">Click on a Pellet Mill <span></span></div>
            <div id="yearlyAcres">Yearly Acres <span></span></div>
            <div id="openYear">Open Year <span></span></div>
            <button id="toggle75Miles">75 Miles</button>
            <button id="toggle50Miles">50 Miles</button>
        </div>  
        <div class="chart-container">

            <canvas id="chart" width="300" height="150"></canvas>
            <button class="info-btn">i</button>
            <div class="info-textbox">
                This line chart presents the historical trend of tree loss within a certain distance from the selected pellet mill from 2000 to 2021. The red line marks the commencement of the pellet mill's operation. <br> <br> The data reflect varying estimates of the sourcing radius, at 50 miles and 75 miles, showing the annual tree loss calculated for these distances, as per SELC estimates.
            </div>
        </div>

        <div class="table-container">
            <h2>Pellet Mill Data</h2>
            <table id="data-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th class="tableName">Name</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src='https://api.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.js'></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/1.0.2/chartjs-plugin-annotation.min.js"></script> 
        <script src='pellets.js'></script>
        <script>
            document.querySelectorAll('.info-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const textbox = e.target.nextElementSibling;
                    textbox.style.display = (textbox.style.display === 'none' || textbox.style.display === '') ? 'block' : 'none';
                });
            });
        </script>
    </div>
</body>
</html>
